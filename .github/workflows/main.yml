# This is a basic workflow to help you get started with Actions

name: CI

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Build
        run: |
          ssh root@103.180.138.30
          6sSJzTaIp0MA
          if [ ! -d "ShopP/" ]; then git clone git@github.com:KyohagiErika/ShopP.git fi
          cd ShopP
          git pull
          npm i
          npm run build
          npm start
